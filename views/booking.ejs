<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/css/booking.css">
    <link rel="stylesheet" href="/css/nav.css">
    <link rel="stylesheet" href="/css/common.css">
</head>
<body style="background-image: linear-gradient(rgba(0,0,0,0.4),rgba(0,0,0,0.5)),url(/uploads/<%=room.roomImg%>);;">
  <div id="preloader"></div>
    <%- include('./partials/nav.ejs') %>
    <div class="page6"></div>
<div class="container">
    <div class="card">
      <div class="slider">
        <ul>
          <li style="background-image: url(/uploads/<%=room.roomImg%>);"></li>
        </ul>
      </div>

      <div class="content">
        <% if (locals.message) { %>
          <p style="color: red;"><%=message%></p>
        <% } %>
        <div class="description">
          <h1><%= room.roomName %></h1>
          <p><%= room.roomDesc %></p>
          <h3>Price: <span style="color: black;">Rs.<%=room.price%>/night</span></h3>
          <h3>Available Rooms: <span style="color: black;" id="available-room"><%=room.totallRooms%></span></h3>

          <button class="button" id="book-btn">Book Room</button>
        </div>
        <div class="booking">
          <i class="ion-android-close cancel"></i>
          <div class="room-info">
            <h1>Booking</h1>
              <button class="prevslide"><i class="fa-solid fa-arrow-left"></i></button>
            <form action="/user/bookroom/<%=room._id%>" method="post">
              <div class="elem-group">
                <label for="name">Booked By</label>
                <input type="text" id="name" name="userName"  pattern=[A-Z\sa-z]{3,20} value="<%=user.name%>" disabled>
              </div> 
              <div class="elem-group inlined">
                <label for="checkin-date">Check-in Date</label>
                <input type="text" id="checkin-date" name="checkInDate" value="<%=checkInDate%>" readonly>
                <span id="cin-error"></span>
              </div>
              <div class="elem-group inlined">
                <label for="checkout-date">Nights</label>
                <input type="number" id="night" name="Nights" value="<%=nights%>" readonly>
                <span id="night-error"></span>
              </div>
              <div class="elem-group inlined">
                <label for="checkout-date">Check-out Date</label>
                <input type="text" id="checkout-date" name="checkOutDate" value="<%=checkOutDate%>" readonly>
              </div>
              <div class="elem-group inlined">
                <h4>Room Price: Rs.<p id="price"><%=room.price%></p></h4>
                <h4>Discounts: Rs.<p id="discount">0</p></h4>
                <h4>Totall Price: Rs.<p id="final-price"><%=price%></p></h4>
              </div>
              <button class="button" type="submit"  id="book-final">Book Room</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
 
  <%- include('./partials/commonscript.ejs') %>
  <script src="/js/bookingformvalidation.js"></script>
 
</body>
</html>